from pdfminer.high_level import extract_pages
from pdfminer.layout import LTTextContainer, LTChar, LTTextBoxHorizontal

def find_text_in_pdf(pdf_path, search_text):
    # Initialize a list to hold the results
    results = []

    # Iterate through each page
    for page_num, page_layout in enumerate(extract_pages(pdf_path), start=1):
        for element in page_layout:
            if isinstance(element, LTTextBoxHorizontal):
                for text_line in element:
                    if isinstance(text_line, LTTextContainer):
                        text = text_line.get_text()
                        if search_text in text:
                            # Record the page number and the line of text
                            results.append((page_num, text.strip()))

    return results

# Usage example
pdf_path = 'example.pdf'
search_text = 'specific text'
matches = find_text_in_pdf(pdf_path, search_text)

if matches:
    for page_num, text in matches:
        print(f"Found '{search_text}' on page {page_num}: {text}")
else:
    print(f"'{search_text}' not found in the document.")
